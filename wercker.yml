box: golang
services:
- name: postgres
  id: postgres
  env:
    POSTGRES_PASSWORD: test
    POSTGRES_USER: test

build:
  steps:
    - wercker/golint
    - script:
       name: go build
       code: |
       
        ping -c 1 postgres

         if [ -z "$POSTGRES_PORT_5432_TCP_ADDR" ]
         then
           exit 2
         fi




         if [ -z "$POSTGRES_NAME" ]
         then
           exit 2
         fi

         if [ -z "$POSTGRES_ENV_PGDATA" ]
         then
           exit 2
         fi

         if [ -z "$POSTGRES_ENV_PATH" ]
         then
           exit 2
         fi

         if [ -z "$POSTGRES_ENV_LANG" ]
         then
           exit 2
         fi

         if [ -z "$POSTGRES_ENV_PG_VERSION" ]
         then
           exit 2
         fi

         if [ -z "$POSTGRES_ENV_GOSU_VERSION" ]
         then
           exit 2
         fi




